FROM ubuntu

ARG NB_USER=user
ARG NB_UID=11
ENV USER ${NB_USER}
ENV HOME /home/${NB_USER}

RUN adduser --disabled-password \
    --gecos "Default user" \
    --uid ${NB_UID} \
    ${NB_USER}
WORKDIR ${HOME}

# Step 1: Install Java JDK
# RUN apt-get update
# RUN apt-get install openjdk-8-jdk -y

# Step 2: Install Python 3.8
# RUN add-apt-repository ppa:deadsnakes/ppa
# RUN apt-get install python3.8 -y

# Step 3: Install git
# RUN apt-get install git -y

# Step 4: Install Jadx
# RUN git clone https://github.com/skylot/jadx.git && cd jadx && ./gradlew dist
# TODO: Add jadx to $PATH

# Step 5: Start virtual environment
# ENV VIRTUAL_ENV=/opt/venv
# RUN python3 -m venv $VIRTUAL_ENV
# ENV PATH="$VIRTUAL_ENV/bin:$PATH"

# Step 6: Install our tool and requirements
# RUN git clone https://github.com/adamjanovsky/AndroidMalwareCrypto && cd AndroidMalwareCrypto && python3 install ./setup.py

# Step 6: Install patched Androguard
# RUN git clone https://github.com/androguard/androguard && cd androguard && python3 install ./setup.py

# Step 7: Install patched Literadar
# RUN git clone https://github.com/adamjanovsky/LiteRadar
