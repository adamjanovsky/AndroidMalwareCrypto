import argparse
import androidcrypto.experimentRunner as exp
from datetime import datetime


def main():
    parser = argparse.ArgumentParser(description='Mapping the ecosystem of cryptography usage in Android malware. This project is a joint work of Masaryk University and University of Cagliari.')

    parser.add_argument('config', type=str, help='path to the file with config.yml')
    parser.add_argument('-t', '--token', type=str, help='Neptune.ml API token', default=None)
    args = parser.parse_args()

    start = datetime.now()
    runner = exp.ExperimentRunner(args.config, args.token)
    runner.run()
    end = datetime.now()
    print(f'Computation took: {end - start} seconds.')


if __name__ == '__main__':
    main()
