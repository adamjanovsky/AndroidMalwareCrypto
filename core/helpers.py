import os


def find_all_files_with_extension(dir_to_search, extension):
    result = []
    for file in os.listdir(dir_to_search):
        if file.endswith(f'.{extension}'):
            result.append(os.path.join(dir_to_search, file))
    return result


def establish_results_filepath(dir_path, prefix, suffix):
    while True:
        candidate = os.path.join(dir_path, prefix + '.' + suffix)
        if not os.path.exists(candidate):
            break
        prefix += '+'
    return candidate
